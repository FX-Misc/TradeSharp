<html>
<head>
    <title>Терминал TradeSharp - Графические построения</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <style type="text/css">
        h2
        {
            cursor: pointer;
            text-decoration: underline;
            color: navy;
        }
    </style>
    <script type="text/javascript" src="jquery-1.10.2.min.js"></script>    
    <script type="text/javascript" src="script.js"></script>
</head>

<body onload="collapseTopics(); makeContentsTable('contentList');">
    <img src="picts\main_logo.png" />
    <h1>Графические построения</h1>

    <h2>Содержание</h2>
    <ul id="contentList">
    </ul>

    <h2 onclick="$('div#topic1').toggle()">1 Общие сведения</h2>    
    <div id="topic1" style="display:block">

        <h3>1.1 Графический анализ рынка</h3>
        <p>
            Задолго до появления торговых терминалов (да что терминалов - за столетия до появления компьютеров) 
            графики рыночных котировок служили своеобразным "холстом" для всевозможных графических построений:
        </p>
        <img src="picts\common\graphics\ursa.png" />
        <p class="pictitle">Рис. 1.1 Медвежья фигура на рынке</p>

        <p>
            Классическая "фигура" технического анализа, которую использует буквально <b>каждый</b> трейдер -
            <a href="#" onclick="gotoTopic(3,1)">линия тренда</a>. Технически это может быть отрезок, луч или, собственно, линия. Кроме линии
            тренда распространены линии "поддержки" / "сопротивления" - как правило, определенное
            значение цены, т.е. горизонтальная линия.
        </p>

        <p>
            Более сложные фигуры технического анализа в большинстве своем сводятся к тем же линиям: это может быть
            "треугольник цен" или "веер Ганна". Исключение составляют кривые - например, эллипсы.
        </p>

        <h3>1.2 Прочие графические построения</h3>
        <p>
            Кроме фигур технического анализа на "холсте" графика (как правило, свечного) трейдер часто оставляет разного рода
            пометки: "облачко" с текстом, отмечающим торговую идею, две засечки в момент входа и выхода из рынка, соединенные
            отрезком. Эти отметки на графике в терминале Trade# также вполне можно отнести к графическим построениям, не входящим,
            однако, в стандартный инструментарий технического анализа. Все эти инструменты, относящиеся к графику торгуемого инструмента,
            объединены в терминале на одной инструментальной панели.
        </p>
    </div>
    
    <a name="toolpanel"/>
    <h2 onclick="$('div#topic2').toggle()">2 Инструментарий Trade#</h2>    
    <div id="topic2" style="display:block">

        <h3>2.1 Панель инструментов</h3>
        <p>
            Инструментальная панель расположена под строкой меню и содержит две группы кнопок:
        </p>

        <img src="picts\common\graphics\tool_panel.png" />
        <p class="pictitle">Рис. 2.1 Инструментальная панель терминала</p>
        
        <p>
            Каждую группу кнопок можно свернуть / развернуть кнопкой слева (отметка <span style="color:red">1</span> на рисунке).
            Нажатие каждой кнопки в первой группе (графические построения и технический анализ) устанавливает соответствующий режим.
            Кнопки могут объединяться в группы (отметка <span style="color:red">2</span> на рисунке) - нажатие на такую кнопку
            раскрывает список дополнительных кнопок.
        </p>
        <p>
            Содержимое инструментальной панели настраивается командой меню <a href="#" onclick="gotoTopic(2,2)">Настройки | Панель инструментов</a>.
            Можно выбрать не только набор кнопок, но и предустановленные настройки для каждого режима.
            Например, можно задать толщину, цвет и вариант отображения (отрезок, линия или фигура) для 
            инструмента <a href="#" onclick="gotoTopic(3,1)">"линия тренда"</a>: одной кнопкой добавлять на график отрезок, другой - собственно линию.
        </p>

        <h3>2.2 Настройки панели инструментов</h3>
        <p>
            Открываются командой меню <b>Настройки | Панель инструментов</b>:
        </p>

        <img src="picts\common\graphics\panel_setup.png" />
        <p class="pictitle">Рис. 2.2 Инструментальная панель терминала</p>

        <p>
            Кнопки инструментальной панели представлены в виде "дерева" - в данном случае (рис. 2.1) группа "Прочие"
            содержит в себе несколько кнопок. Каждую строку списка кнопок можно "перетащить" левой кнопкой мыши
            выше или ниже в списке, изменив, тем самым, позицию кнопки в списке. Кнопку можно перетащить в
            группу или вынести из группы кнопок.
        </p>

        <p>
            Для выбранной (левой кнопкой мыши) кнопки показываются ее настройки (в правой части окна). Прежде всего,
            пиктограмма и название. Можно указать для кнопки собственное название и выбрать новую пиктограмму (нажать
            на кнопку - пиктограмму). Под ними перечислены настройки инструмента. 
        </p>

        <p>
            В нашем примере приведены настройки инструмента "линия тренда". Ряд настроек отмечается галочками ("Подписи", "Редактировать"...).
            Другие настройки выбираются из списка ("Тип") или в окне ("Заливка"). Остальные параметры вписываются в поле ("Прозрачность").
        </p>

        <h3>2.3 Добавление / удаление / настройка кнопок</h3>
        <p>
            Содержание инструментальной панели настраивается в окне "Настройки инструментальной панели", вкладка "Кнопки" (см. выше).
            Набор кнопок можно изменить:
        </p>

        <ul>
            <li><b>Удалить</b> кнопку или группу кнопок - нажмите правой кнопкой по инструменту (в списке слева) и выберите пункт 
                <b>Удалить</b> открывшегося меню.</li>
            <li><b>Добавить</b> кнопку или группу кнопок - в области списка нажмите правую кнопку мыши и выберите пункт 
                <b>Добавить кнопку / Добавить группу</b> открывшегося меню.</li>
            <li><b>Редактировать кнопку, редактировать группу</b> - выберите кнопку / группу кнопок левой кнопкой мыши. В правой части окна
                выберите пиктограмму (нажав на кнопку с соотвествующей картинкой) и введите название кнопки / группы. Для
                кнопки (режима) укажите соответствующие настройки - например, для инструмента <a href="#" onclick="gotoTopic(5,1)">"Комментарий"</a>
                можно указать цвет фона, текст по-умолчанию и еще ряд параметров.
            </li>
            <li><b>Переместить</b> кнопку или группу кнопок - "перетащить" кнопку / группу левой кнопкой мыши. Верхняя кнопка в списке будет
                расположена первой (самой левой) в инструментальной панели. Кнопку можно "вложить" в группу либо вынести из группы.</li>
        </ul>

        <p>
            При добавлении кнопки выберите тип <a href="#" onclick="gotoTopic(1,1)">инструмента</a> графика. Кнопка добавится в конец списка.<br />
            При добавлении группы кнопок введите текст - название новой группы - а затем укажите пиктограмму группы кнопок. Группа также будет
            добавлена в конец списка.
        </p>
    </div>
    
    <h2 onclick="$('div#topic3').toggle()">3 Инструменты тех. анализа</h2>
    <div id="topic3" style="display:block">

        <h3>3.1 Линии тренда</h3>
        <p>
            Пожалуй, наиболее "гибкий" инструмент. На рис. 3.1 тонкий черный отрезок, пунктирная красная линия и зеленая стрелка -
            все это - линии тренда:
        </p>

        <img src="picts\common\graphics\tool_trendline.png" />
        <p class="pictitle">Рис. 3.1 Линии тренда</p>

        <p>
            Выбрав инструмент "Линии тренда" нажмите левой кнопкой мыши в области графике и, не отпуская кнопку, протяните курсор для указания второй точки линии (отрезка).
            По умолчанию, если нажата клавиша <b>Shift</b>, одним нажатием на график будет добавлена горизонтальная линия.
        </p>
        
        <p>
            Сразу после создания линия перейдет в режим редактирования <a href="#" onclick="gotoTopic(4,1)">(включится инструмент - "Курсор")</a>.
            На линии (отрезке) появятся три маркера - квадратные на концах отрезка и ромбовидный в центре. Левой кнопкой мыши линию пожно "перетащить"
            за концевые маркеры и параллельно перенести за центральный маркер.
        </p>

        <p>
            Выбрав на графике линию тренда (правой кнопкой мыши вызвать меню и в нем выбрать пункт "Линия №...") можно изменить ее свойства. Интерес представляет свойство <b>Тип линии</b>.
            Тип линии для черного отрезка (см. рис.) - "Отрезок", для пунктирной красной линии - "Линия", для зеленой стрелки - "Средняя стрелка".
        </p>

        <p>
            В настройках инструментальной панели для инструмента "Линии тренда" можно задать свойства <b>по-умолчанию</b>. Устанавливаются свойства:
        </p>

        <ul>
            <li><b>Подписи</b> - если опция включена, на концах отрезка рисуются комментарии, показывающие время/цену начала/конца отрезка и "расстояние"
                между ними в ценовых пунктах (см <a href="#" onclick="gotoTopic(4,2)">инструмент "Измерение"</a>).
            </li>
            <li><b>Редактировать</b> - если опция включена, сразу после создания линии (отрезка) влючается см <a href="#" onclick="gotoTopic(4,1)">инструмент "Курсор"</a>,
                линия отмечается тремя маркерами.
            </li>
            <li><b>Показывать окно</b> - если опция выбрана, сразу после добавления линии на график открывается окно свойств (настроек) линии.</li>
            <li><b>Тип</b> - вид линии - отрезок, собственно линия или одна из нескольких фигур, размер, положение и направление которой задаются точками линии.</li>
            <li><b>Горизонтальная (Shift)</b> - если при добавлении линии на график нажата клавиша <b>Shift</b>, добавляется горизонтальная линия (одним нажатием левой кнопки мыши).</li>
            <li><b>Заливка</b> - если линия задает фигуру (см. выше), параметр Заливка определяет цвет заливки фигуры.</li>
            <li><b>Обводка</b> - цвет линии. Если линия задает фигуру (см. выше), параметр Обводка определяет цвет обводки (контура) фигуры.</li>
            <li><b>Только измерить</b> - по завершению рисования линия тут же удаляется. Со включенными параметрами "Только измерить", "Подписи", "Тип" = "Отрезок"
                инструмент "Линии тренда" становится инструментом <a href="#" onclick="gotoTopic(4,2)">инструмент "Измерение"</a>.
            </li>
            <li><b>Горизонтальная</b> - см. выше, "Горизонтальная (Shift)". При включенном параметре по-умолчанию <b>горизонтальная</b> линия добавляется 
                одним нажатием мыши, с нажатой клавишей <b>Shift</b> добавляется обычная линия.
            </li>
            <li><b>Прозрачность</b> - если линия задает фигуру (см. выше), параметр "Прозрачность" определяет прозрачность заливки фигуры.
                0 - фигура полностью прозрачна, 255 - полностью непрозрачна.</li>
        </ul>
        
        <h3>3.2 Эллипсы</h3>
        <p>
            Один из немногих инструментов тех. анализа, не сводящийся к построению отрезков.
        </p>

        <img src="picts\common\graphics\tool_ellipse.png" />
        <p class="pictitle">Рис. 3.2 Эллипс</p>

        <p>
            Эллипс задается тремя точками: две точки задают полуось эллипса, третья точка, лежащая на 
            эллипсе, определяет вторую полуось (задает "ширину" эллипса). На рис. 3.2 красные квадратные маркеры
            задают большую полуось эллипса. Третий, белый квадратный маркер, определяет вторую полуось. <br />
            При добавлении нового эллипса надо нажать на графике левую кнопку мыши, и, <b>не отпуская кнопки</b>,
            "протянуть" полуось эллипса до второй точки. Отпустить кнопку мыши. Затем снова нажать <b>левую кнопку мыши</b> и,
            удерживая ее, задать третью точку эллипса. Отпустить кнопку мыши.
        </p>

        <p>
            Не по всяким трем точкам можно построить эллипс так, чтобы две из них задавали полуось, а третья лежала на эллипсе.
            Такой "эллипс" в терминале рисуется тремя квадратными маркерами, соединенными отрезками.
        </p>

        <p>
            <span style="color:red; font-weight: bolder">NB!</span> Вид эллипса - его "ширина" (эксцентриситет), наклон полуосей
            зависит от масштаба графика. Точнее от соотношения <b>размах цен</b> (шкала Y) / количество свечей в окне графика.
            Так, "нормальный" эллипс при смене масштаба или прокрутке графика может стать "вырожденным" - превратиться в набор
            точек, соединенных отрезками.
        </p>

        <p>
            Как и для <a href="#" onclick="gotoTopic(3,1)">линии тренда</a>, сразу после добавления эллипса включается режим 
            <a href="#" onclick="gotoTopic(4,1)">редактирования</a>, эллипс отмечается тремя маркерами. "Перетаскиванием" левой кнопкой
            мыши за квадратные маркеры меняется форма / положение эллипса. "Перетаскиванием" ромбовидного маркера по центру меняется
            положение эллипса (параллельный перенос).
        </p>

        <p>
            Эллипс можно построить <b>автоматически</b>, определив лишь его полуось двумя точками. Для этого (при настройках по-умолчанию, см.
            ниже) при добавлении эллипса нужно удерживать клавишу <b>Control</b> (Ctrl). Эллипс будет построен так, чтобы, при текущем масштабе графика,
            описать отрезок свечного графика между точками своей полуоси. Будет построен эллипс минимальной "ширины" (с наименьшей второй полуосью),
            такой, что свечи внутри эллипса не "проткнут" его тенями.
        </p>

        <p>
            Еще одна особенность эллипса - "умение" строить набор касательных, параллельных его основной полуоси. Касательные
            удалены друг от друга на расстояния, пропорциональные отношениям соседних чисел <b>ряда Фибоначчи</b>.
            Для того, чтобы включить рисование касательных, при создании / редактировании свойств эллипса надо указать опцию
            "Касательная". Растояния между касательными задаются параметром "Уровни касательной" - за 1 принята длина второй 
            полуоси эллипса. Если задать один только "уровень" - 0 - построится только касательная к эллипсу (1 линия / отрезок).
        </p>

        <p style="font-weight: bold">Настройки инструмента "Эллипс"</p>
        <p>
            В настройках инструмента (кнопки <a href="#" onclick="gotoTopic(2,1)">инструментальной панели</a>) "Эллипс" указываются следующие параметры по-умолчанию:
        </p>

        <ul>
            <li><b>Обводка</b> - цвет обводки (контура) эллипса по-умолчанию</li>
            <li><b>Вид касательной</b> (касательных) - отрезок или прямая</li>
            <li><b>Касательная</b> - когда параметр включен, касательная (касательные) к эллипсу добавляются автоматически.
                Если опция отключена, касательные также можно автоматически добавить к эллипсу, если при его создании
                удерживать нажатой клавишу <b>Shift</b>.
            </li>
            <li><b>По двум точкам</b> - если опция включена, эллипс строится автоматически после указания двух точек его полуоси.
                Если опция отключена, эллипс также можно построить автоматически, если при его создании удерживать нажатой
                клавишу <b>Control</b> (Ctrl).
            </li>
        </ul>
    </div>

    <h2 onclick="$('div#topic4').toggle()">4 Инструменты навигации / редактирования</h2>
    <div id="topic4" style="display:block">
        <h3>4.1 Режим курсора</h3>
        <img src="picts\common\graphics\tool_cursor.png" />
        
        <p>
            Основной режим. Нажатие правой кнопки на графике в режиме курсора вызывает контекстное меню,
            в котором, в частности, указаны объекты графика, над которыми в данный момент находится курсор.
            В этом режиме осуществляется <a href="pg_chartnavi.htm">навигация по графику</a>.
        </p>

        <p>
            Выбрав в режиме курсора объект, можно редактировать его расположение / форму: на объекте появляются
            маркеры в виде маленьких белых квадратов / ромбов. "Ухватив" левой кнопкой мыши маркер в виде ромба 
            можно перенести объект, перетягиванием за квадратные маркеры меняется форма / размеры / точки привязки объекта
            (см. выше - пп <a href="#" onclick="gotoTopic(3,1)">1</a>, <a href="#" onclick="gotoTopic(3,2)">2</a> и прочие).
        </p>

        <p>
            Как правило, после добавления объекта на график включается режим <b>Курсор</b>.
        </p>

        <h3>4.2 Режим измерения</h3>
        <img src="picts\common\graphics\tool_measure.png" />
        <p class="pictitle">Рис. 4.1 Настройка инструмента "Измерение"</p>
        
        <p>
            В этом режиме, нажав и удерживая левую кнопку мыши, можно провести отрезок,
            на концах которого всплывают подсказки, содержащие время и цену, соответствующие точкам графика (подсказка
            в начале отрезка).
            В конце отрезка выводится подсказка - разница цен в концах отрезках, в абсолютном выражении и в
            ценовых пунктах.
        </p>
        
        <p>
            Инструмент "Измерение" является одной из разновидностей инструмента <a href="#" onclick="gotoTopic(3,1)">"Линии тренда"</a>
            (то есть, инструмент "Линии тренда" можно настроить так, что он станет включать режим "Измерение").
        </p>

        <h3>4.3 Режим "Скрипт"</h3>
        <img src="picts\common\graphics\tool_cursor.png" />
        
        <p>
            Когда режим выбран, нажатием левой кнопки графика вызывается один из настроенных
            <a href="pg_script.htm">скриптов терминала</a>. Если скрипт учитывает не только торгуемый инструмент,
            но и конкретную позицию на графике, скрипт будет вызван с указанием координат курсора.
        </p>

        <h3>4.4 Режим "Перекрестие"</h3>

        <img src="picts\common\graphics\tool_cross.png" />
        <p class="pictitle">Рис. 4.4 График в режиме "Перекрестие", клавиша Shift нажата</p>
        
        <p>
            В режиме "Перекрестие" при нажатой левой кнопке мыши от курсора рисуются пунктирные линии на оси времени / цены.
            Если при этом нажата клавиша <b>Shift</b>, справа от курсора выводится подробная информация по свече, над которой находится курсор: <br />
            - дата и время <b>открытия</b> свечи, цены open - high - low - close.
        </p>
    </div>

    <h2 onclick="$('div#topic5').toggle()">5 Вспомогательные инструменты</h2>
    <div id="topic5" style="display:block">
        <h3>5.1 Комментарий на графике</h3>

        <p>
            Выбрав соответствующий инструмент ("Комментарии"), нажмите левую кнопку мыши в нужной точке на графике, и,
            удерживая кнопку нажатой, перетащите вторую точку комментария. Откроется окно ввода текста (см. рис. 5.1).
        </p>

        <img src="picts\common\graphics\tool_comment.png" />
        <p class="pictitle">Рис. 5.1 Комментарий на графике в режиме редактирования</p>

        <p>
            В окне ввода текста обратите внимание на следующие настройки:
        </p>

        <ul>
            <li>Кнопки <b>b</b>, <i>i</i>, <u>u</u> вверху - настраивают стиль текста для <b>выбранной строки</b></li>
            <li>Слева от кнопок <b>b</b>, <i>i</i>, <u>u</u> - кнопкf выбора индивидуального цвета для <b>строки</b> /
                кнопка отмены выбора индивидуального цвета.
            </li>            
        </ul>

        <p>Вкладка "Прочие"</p>
        <ul>
            <li>"рисовать стрелку" - если флаг снят, стрелка (выноска), указывающая на выбранную точку графика,
                не рисуется</li>
            <li>"рисовать рамку" - рисовать / скрывать рамку текста</li>
            <li>"цвет обводки", "цвет заливки" - цвет обводки (контура) и цвет стрелки, цвет заливки для рамки комментария</li>
        </ul>

        <p>
            После добавления комментария режим редактирования <b>не включается</b>. Для выбора комментария в режиме
            <a href="#" onclick="gotoTopic(4,1)">Курсор</a> нажмите левой кнопкой в области текста (в рамке, если она
            не скрыта). Перетащите один из двух маркеров, задающих точку привязки комментария / вершину 
            области текста. Для редактирования текста / настроек в том же режиме нажмите правую кнопку мыши в 
            области текста и выберите пункт меню вида "Комментарий 123".
        </p>

        <img src="picts\common\graphics\tool_comment_setup.png" />
        <p class="pictitle">Рис. 5.2 Настройки инструмента "Комментарий"</p>

        <p>
            Параметры инструмента по-умолчанию можно настроить в окне <a href="#" onclick="gotoTopic(2,2)">"Настройка инструментальной панели"</a>
            (меню Настройки | Панель инструментов). Кроме уже описанных выше настроек присутствуют следующие параметры:
        </p>

        <ul>
            <li><b>Показывать окно</b> - если опция отключена, окно ввода текста / задания свойств <b>не показывается</b> после добавления
                комментария на график.</li>
            <li><b>Прозрачность</b> - прозрачность заливки (фона) области текста комментария. 0 - фон полностью прозрачный,
                255 - фон полностью непрозрачный.</li>
            <li><b>Текст</b> - предустановленный текст комментария</li>
        </ul>
        
        <h3>5.2 Маркеры сделок</h3>

        <p>
            Нажатием левой кнопки мыши в области графика добавляется отметка о "покупке"
            (стрелочка с символом <b>b</b>) или продаже - стрелочка с символом <b>s</b>,
            для добавления "продажи" удерживается нажатой клавиша <b>Control</b> (Ctrl).
        </p>

        <img src="picts\common\graphics\tool_order.png" />
        <p class="pictitle">Рис. 5.3 Комментарий на графике в режиме редактирования</p>

        <p>
            Повторное добавление покупки / продажи "закрывает" "открытую" отметку покупки / продажи -
            добавляется стрелка, направленная влево с соответствующим символом (<b>b</b> / <b>s</b>) и
            подписью - разностью в ценовых пунктах между "входом" и "выходом". На графике можно разместить несколько
            "покупок" / "продаж". По нажатию левой кнопкой мыши в том же режиме ("Маркеры сделок") на отметке "входа" / "выхода"
            из "сделки" "сделка" удаляется с графика.
        </p>

        <p>
            Некоторые <a href="pg_indicators.htm">технические индикаторы</a> могут использовать "Маркеры сделок"
            для оценки эффективности "торговли" - например, индикатор <a href="pg_indi_eratio.htm">E-Ratio</a>.
        </p>

        <h3>5.3 Инструмент "Отметки"</h3>
        <p>
            Иногда достаточно разместить на графике небольшой значок, символизирующий вход в рынок, выход
            из рынка, событие, связанное со сделкой (например, перенос ордера StopLoss в цену безубытка сделки),
            момент публикации важного макроэкономического показателя и т.д. Для этого выбираем инструмент
            "Отметки".
        </p>

        <img src="picts\common\graphics\tool_asterisk.png" />
        <p class="pictitle">Рис. 5.4 Отметки на графике</p>

        <p>
            Одним нажатием левой кнопкой мыши на график добавляется отметка. Вид отметки и текстовый значок внутри
            можно настроить в ее свойствах, а можно <a href="#" onclick="gotoTopic(2,2)">установить по-умолчанию</a>.
            Обратите внимание на следующие параметры:
        </p>

        <ul>
            <li><b>Тип</b> - тип фигуры, которая добавится на график по нажатию левой кнопки мыши (клавиша <b>Shift не</b> нажата)</li>
            <li><b>Тип (Shift)</b> - тип фигуры, которая добавится на график по нажатию левой кнопки мыши (клавиша <b>Shift нажата</b>)</li>
            <li><b>Текст, Текст (Shift)</b> - текст внутри фигуры, для фигуры, добавленной левой кнопкой мыши с / без удержания клавиши <b>Shift</b></li>
        </ul>


    </div>

</body>
</html>