@using TradeSharp.SiteAdmin.App_GlobalResources
@using TradeSharp.Contract.Entity
@model List<TradeSharp.SiteAdmin.Models.ServerUnitInfo>

    <div id="content_table_inner">
        <table border="0" width="100%" cellpadding="0" cellspacing="0" id="product_table">
            <tr>
                <th class="table-header-repeat line-left" style="width:22%"><span>@Resource.TitleService</span></th>
                <th class="table-header-repeat line-left" style="width:22%"><span>@Resource.TitleState</span></th>
                <th class="table-header-repeat line-left"><span>@Resource.TitleDetails</span></th>
            </tr>
            @foreach (var item in Model)
            {
                <tr>
                    <!-- Название -->
                    <td>@item.UnitName</td>
                    
                    <!-- Состояние -->
                    @switch (item.ModuleStatus)
                    {
                        case ServiceProcessState.OK:
                            <td style="color: green; font-weight: bold">@item.ModuleStatus.ToString()</td>
                            break;
                        case ServiceProcessState.Offline:
                            <td style="color: gray; font-weight: bold">@item.ModuleStatus.ToString()</td>
                            break;
                        case ServiceProcessState.Starting:
                            <td style="color: goldenrod; font-weight: bold">@item.ModuleStatus.ToString()</td>
                            break;
                        case ServiceProcessState.ShuttingDown:
                            <td style="color: goldenrod; font-weight: bold">@item.ModuleStatus.ToString()</td>
                            break;
                        case ServiceProcessState.HasWarnings:
                            <td style="color: red; font-weight: bold">@item.ModuleStatus.ToString()</td>
                            break;
                        case ServiceProcessState.HasErrors:
                            <td style="color: red; font-weight: bold">@item.ModuleStatus.ToString()</td>
                            break;
                        case ServiceProcessState.HasCriticalErrors:
                            <td style="color: red; font-weight: bold">@item.ModuleStatus.ToString()</td>
                            break;
                        default:
                            <td style="color: gray; font-weight: bold">@item.ModuleStatus.ToString()</td>
                            break;
                    }
                    
                    <!-- Подробные сведения (об ошибке) -->
                    <td class="options-width">@item.ExtendedStatusInfo</td>
                </tr>
            }
        </table>
    </div>