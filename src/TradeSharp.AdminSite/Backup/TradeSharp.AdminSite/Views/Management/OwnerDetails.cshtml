@{
    ViewBag.Title = Resource.PageTitleOwnerDetails;
    Layout = "~/Views/Pages/_PageLayout.cshtml";
}

@using TradeSharp.SiteAdmin.App_GlobalResources
@using TradeSharp.Contract.Entity
@using TradeSharp.Util
@model TradeSharp.SiteAdmin.Models.AccountUserModel
@section Header {
    <link rel="stylesheet" href="~/css/screen.css" type="text/css" media="screen" title="default" />
    <link rel="stylesheet" href="/css/button.css" type="text/css" media="screen" title="default" />
    <!--  jquery core -->
    <script src="~/js/jquery_1_10_3/jquery-1.9.1.js"></script>
    <script src="~/js/chosen.jquery.min.js" type="text/javascript"></script>
    <script src="@Url.Content("~/js/jquery/jquery.validate.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/js/jquery/jquery.validate.unobtrusive.js")" type="text/javascript"></script>
    <link href="~/css/chosen.min.css" rel="stylesheet" />

    <!--[if IE]>
    <link rel="stylesheet" media="all" type="text/css" href="/css/pro_dropline_ie.css" />
    <![endif]-->
}

<!-- start content-outer ........................................................................................................................START -->
<div id="content-outer">
    <div id="content" style="width: 380px; margin: 0 auto; min-width: 380px;">
        @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "SubmitForm", name = "SubmitForm" }))
        {
            @Html.HiddenFor(x => x.UserId)
            <h3>@Resource.TitleClientPersonalData</h3>
            <div class="simpleTableContainer">
                <table  class="tableWithoutBorders">
                    <tr>
                        <td>
                            @Html.LabelFor(x => x.UserRegistrationDate)
                        </td>
                        <td>
                            <span style="color:#92b22c; font-size: 14px; font-weight: bold">@Model.UserRegistrationDate</span>
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(x => x.UserLogin)
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.UserLogin, new { @class = "login-inp" })
                        </td>
                        <td class="ValidationMessage">
                            @Html.ValidationMessageFor(x => x.UserLogin)
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(x => x.UserPassword)
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.UserPassword, new { @class = "login-inp" }) , @*@type = "password", @autocomplete = "off"*@
                        </td>
                        <td class="ValidationMessage">
                            @Html.ValidationMessageFor(x => x.UserPassword)
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(x => x.UserName)
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.UserName, new { @class = "login-inp" })
                        </td>
                        <td class="ValidationMessage">
                            @Html.ValidationMessageFor(x => x.UserName)
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(x => x.UserPatronym)
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.UserPatronym, new { @class = "login-inp" })
                        </td>
                        <td class="ValidationMessage">
                            @Html.ValidationMessageFor(x => x.UserPatronym)
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(x => x.UserSurname)
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.UserSurname, new { @class = "login-inp" })

                        </td>
                        <td class="ValidationMessage">
                            @Html.ValidationMessageFor(x => x.UserSurname)
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(x => x.UserDescription)
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.UserDescription, new { @class = "login-inp" })
                        </td>
                        <td class="ValidationMessage">
                            @Html.ValidationMessageFor(x => x.UserDescription)
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(x => x.UserEmail)
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.UserEmail, new { @class = "login-inp" })
                        </td>
                        <td class="ValidationMessage">
                            @Html.ValidationMessageFor(x => x.UserEmail)
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(x => x.UserPhone1)
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.UserPhone1, new { @class = "login-inp" })
                        </td>
                        <td class="ValidationMessage">
                            @Html.ValidationMessageFor(x => x.UserPhone1)
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(x => x.UserPhone2)
                        </td>
                        <td>
                            @Html.TextBoxFor(x => x.UserPhone2, new { @class = "login-inp" })
                        </td>
                        <td class="ValidationMessage">
                            @Html.ValidationMessageFor(x => x.UserPhone2)
                        </td>
                    </tr>
                    <tr>
                        <td>@Html.LabelFor(x => x.UserRightsMask)</td>
                        <td>
                            @foreach (var rights in Model.UserRightsMask)
                            {
                                <span>@Resource.TitleAccount </span>@Html.Label(rights.Key.ToString())
                                switch ((int) rights.Value)
                                 {
                                    case 0:
                                        <span style="color:#008000; font-size: 14px; font-weight: bold"> - @(EnumFriendlyName<UserAccountRights>.GetString(rights.Value))</span><br />
                                        break;
                                    case 1:
                                        <span style="color:#8b0000; font-size: 14px; font-weight: bold"> - @(EnumFriendlyName<UserAccountRights>.GetString(rights.Value))</span><br />
                                        break;  
                                    default:
                                        <span style="color:#a9a9a9; font-size: 14px; font-weight: bold"> - @(EnumFriendlyName<UserAccountRights>.GetString(rights.Value))</span><br />
                                        break;     
                                 }
                            }
                            @Html.ActionLink(Resource.TitleEdit, "AccountOwner", new {ownerId = Model.UserId}, new { @style="color:#0000cd; font-size: 14px; font-weight: bold"})
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(x => x.UserRoleMask)
                        </td>
                        <td>
                            @Html.DropDownListFor(x => x.UserRoleMask, new SelectList((System.Collections.IEnumerable)ViewBag.listUserRoles, "Value", "Text"), new { @class = "chzn-select", @style = "width:220px;" })
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td style="padding: 10px">
                            @Html.ActionLink(Resource.TitleEdit, "OwnerDetails", FormMethod.Post, new { @class = "ml-button-3", @id = "linkEdit" })
                        </td>
                        <td>
                            @Html.ActionLink(Resource.TitleCancel, "OwnerDetailsEditCancel", null, new { @class = "ml-button-3" })
                        </td>
                        <td></td>
                    </tr>
                </table>
</div>
        }
    </div>      
</div>

<script type="text/javascript">   
    $(document).ready(function () {
        $('#linkEdit').click(function () {
            $('#SubmitForm').submit();
            return false;
        });
    });
    
    var config = {
        '.chzn-select': {},
        '.chzn-select-deselect': { allow_single_deselect: true },
        '.chzn-select-no-single': { disable_search_threshold: 10 },
        '.chzn-select-no-results': { no_results_text: '@Resource.ErrorMassageNothingFound' },
        '.chzn-select-width': { width: "95%" }
    };
    for (var selector in config) {
        $(selector).chosen(config[selector]);
    }
</script>